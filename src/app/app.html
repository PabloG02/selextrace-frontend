<mat-sidenav-container class="layout-container" autosize>
  <mat-sidenav
    class="layout-sidenav"
    [class.collapsed]="drawerState() === 'collapsed'"
    [mode]="isMobileView() ? 'over' : 'side'"
    [opened]="drawerState() !== 'closed'"
    (closedStart)="onDrawerClosed()"
  >
    <div class="nav-header">
      <div class="nav-brand">
        <img
          ngSrc="assets/logo.svg"
          width="48"
          height="48"
          alt="Aptasuite logo"
        />
        <div class="nav-title">
          <span class="brand">Aptasuite</span>
          <span class="subtitle">Experiment Manager</span>
        </div>
      </div>
      <button
        mat-icon-button
        type="button"
        class="nav-toggle"
        [attr.aria-label]="navToggleLabel()"
        (click)="toggleDrawer()"
      >
        <mat-icon>{{ navToggleIcon() }}</mat-icon>
      </button>
    </div>
    <mat-nav-list>
      @for (link of navLinks; track link.route) {
        <a
          mat-list-item
          [routerLink]="link.route"
          routerLinkActive="active-link"
          [routerLinkActiveOptions]="{ exact: link.exact ?? false }"
          (click)="onNavigate()"
        >
          <mat-icon matListItemIcon>{{ link.icon }}</mat-icon>
          <span matListItemTitle>{{ link.label }}</span>
        </a>
      }
    </mat-nav-list>
  </mat-sidenav>

  <mat-sidenav-content class="layout-content">
<!--    <mat-toolbar color="primary" class="layout-toolbar" role="banner">-->
<!--      @if (isHandset()) {-->
<!--        <button-->
<!--          mat-icon-button-->
<!--          type="button"-->
<!--          aria-label="Open navigation menu"-->
<!--          (click)="toggleDrawer()"-->
<!--        >-->
<!--          <mat-icon>menu</mat-icon>-->
<!--        </button>-->
<!--      }-->

<!--      <div class="toolbar-left" role="presentation">-->
<!--        <img-->
<!--          ngSrc="assets/logo.svg"-->
<!--          width="36"-->
<!--          height="36"-->
<!--          alt="Aptasuite logo"-->
<!--          class="toolbar-logo"-->
<!--        />-->
<!--        <span class="toolbar-app-name">Aptasuite</span>-->
<!--      </div>-->

<!--      <div class="toolbar-search" role="search">-->
<!--        <mat-form-field appearance="outline">-->
<!--          <mat-label>Search experiments</mat-label>-->
<!--          <input-->
<!--            matInput-->
<!--            type="search"-->
<!--            aria-label="Search experiments"-->
<!--            #searchField-->
<!--            [value]="searchTerm()"-->
<!--            (input)="onSearchChange(searchField.value)"-->
<!--            (keyup.enter)="onSearchSubmit()"-->
<!--          />-->
<!--          @if (searchTerm()) {-->
<!--            <button-->
<!--              mat-icon-button-->
<!--              matSuffix-->
<!--              type="button"-->
<!--              aria-label="Clear search"-->
<!--              (click)="clearSearch()"-->
<!--            >-->
<!--              <mat-icon>close</mat-icon>-->
<!--            </button>-->
<!--          }-->
<!--        </mat-form-field>-->
<!--      </div>-->

<!--      <span class="toolbar-spacer"></span>-->

<!--      <nav class="toolbar-actions" aria-label="User actions">-->
<!--        <button-->
<!--          mat-icon-button-->
<!--          type="button"-->
<!--          matTooltip="Notifications"-->
<!--          aria-label="View notifications"-->
<!--        >-->
<!--          <mat-icon>notifications</mat-icon>-->
<!--        </button>-->

<!--        <button-->
<!--          mat-button-->
<!--          type="button"-->
<!--          [matMenuTriggerFor]="userMenu"-->
<!--          class="user-button"-->
<!--          aria-label="Open user menu"-->
<!--        >-->
<!--          <img-->
<!--            src="https://avatars.dicebear.com/api/initials/AW.svg"-->
<!--            alt="User avatar"-->
<!--            class="user-avatar"-->
<!--            width="32"-->
<!--            height="32"-->
<!--          />-->
<!--          <span class="user-name">Dr. Alice Winters</span>-->
<!--          <mat-icon>expand_more</mat-icon>-->
<!--        </button>-->
<!--        <mat-menu #userMenu="matMenu" xPosition="before">-->
<!--          <button mat-menu-item type="button">-->
<!--            <mat-icon>person</mat-icon>-->
<!--            <span>Profile</span>-->
<!--          </button>-->
<!--          <button mat-menu-item type="button">-->
<!--            <mat-icon>logout</mat-icon>-->
<!--            <span>Sign out</span>-->
<!--          </button>-->
<!--        </mat-menu>-->
<!--      </nav>-->
<!--    </mat-toolbar>-->

    <main class="page-content" role="main">
      <router-outlet />
    </main>
  </mat-sidenav-content>
</mat-sidenav-container>

<!--<app-upload-queue />-->
