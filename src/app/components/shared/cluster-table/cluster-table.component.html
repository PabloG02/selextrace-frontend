<table mat-table
       [dataSource]="paginatedRows()"
       class="cluster-table"
       matSort
       [matSortActive]="sortState().active"
       [matSortDirection]="sortState().direction"
       (matSortChange)="onSortChange($event)">

  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Cluster ID</th>
    <td mat-cell *matCellDef="let row">{{ row.clusterId }}</td>
  </ng-container>

  <ng-container matColumnDef="size">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Size</th>
    <td mat-cell *matCellDef="let row">{{ row.size }}</td>
  </ng-container>

  <ng-container matColumnDef="diversity">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Diversity</th>
    <td mat-cell *matCellDef="let row">{{ row.diversity }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="['id', 'size', 'diversity']"></tr>
  <tr mat-row
      *matRowDef="let row; columns: ['id', 'size', 'diversity']"
      (click)="onSelectRow(row)"
      [class.selected]="selectedClusterId() === row.clusterId"></tr>
</table>

<mat-paginator [length]="rows().length"
               [pageSize]="pageSizeState()"
               [pageSizeOptions]="pageSizeOptions()"
               (page)="onPageChange($event)"
               showFirstLastButtons/>
