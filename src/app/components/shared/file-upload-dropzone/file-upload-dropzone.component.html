<div
  class="file-input-container"
  [class.dragover]="isDragOver()"
  [class.has-file]="selectedFile()"
  [class.disabled]="isDisabled()"
  (click)="onContainerClick()"
  (dragover)="onDragOver($event)"
  (dragleave)="onDragLeave($event)"
  (drop)="onDrop($event)"
>
  <input
    #fileInput
    type="file"
    [accept]="accept()"
    (change)="onFileSelected($event)"
    [disabled]="isDisabled()"
    style="display: none"
  />

  @if (selectedFile()) {
    <div class="file-info">
      <mat-icon>description</mat-icon>
      <div class="file-details">
        <span class="file-name">{{ selectedFile()!.name }}</span>
        <span class="file-size">{{ formatFileSize(selectedFile()!.size) }}</span>
      </div>
      <button
        mat-icon-button
        type="button"
        (click)="clearFile($event)"
        [disabled]="isDisabled()"
      >
        <mat-icon>close</mat-icon>
      </button>
    </div>
  } @else {
    <div class="upload-prompt">
      <mat-icon>upload_file</mat-icon>
      <div class="upload-text">
            <span class="primary-text">
              {{ isDragOver() ? 'Drop file here' : 'Drop file or click to browse' }}
            </span>
        @if (accept()) {
          <span class="hint-text">{{ accept() }}</span>
        }
      </div>
    </div>
  }
</div>
